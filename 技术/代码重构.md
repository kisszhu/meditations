## 代码重构

一定要记得一点，代码的重构工作一定是伴随着整个开发的周期，千万不要留出一个固定的时候去做代码重构，那不会有太好的效果。

这里我们挑战一个困难的模式，即如何重构一个无人维护的老系统。

**第一步：迁移项目**

不要直接在老项目上重构代码，要迁移代码到一个新的项目中，并保证系统可以在新项目中跑起来。

**第二步：重构关注的内容**

- 关注代码结构是否规范
- 关注业务逻辑是否合理
- 关注库表结构是否清晰
- 关注测试用例是否齐全

**第三步：重构目标要明确**

- 聚焦目标

  经常有开发新手在重构的过程过于细究代码的边缘，这个时候其实是目标不明确导致重构人员的重心出现了问题，在重构某块代码的时候，一定要给出明确的目标，比如将数据逻辑与业务逻辑拆分、性能提升2毫秒等

- 聚焦质量

  重构要有更加良好的质量，要有完善的自测用例，否则等你下次重构代码的时候，测试人员就是你的最大的阻力

- 聚焦业务

  要深入理解业务后，在动手重构代码

**第四步：重构的上线事项**

- 开发联调
- 测试联调
- 数据自检程序
- 接口自检程序
- 接入流量
- 观察系统

接下来，会在写一篇，识别需要重构的逻辑～～～
