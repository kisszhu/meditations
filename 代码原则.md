## 代码原则

**添加有意义的语境**

添加有意义的语境，在函数的编写过程中，要注重是否构建了一个易于理解的语境，缺少上下文的代码，总是难以理解的。相比很多程序员总是把代码写的复杂且难以理解不同，我认为这并不是一个好的代码，而是缺乏了对事物本质的认知。代码构建的语境和沟通一样，如果缺乏了一个合理的语境，一定会加剧沟通的困难度。

**抽象层级** **&** **语境**

在阅读代码的过程中，有些函数经常会阅读的比较困难，比较凌乱，没有侧重点，我觉得这个现象的主要的原因是抽象层级&语境的问题，即函数中的代码不是在一个抽象层级中，抽象层级主要指的是，代码中的各项是不是平级的，如果不是，我觉得这个函数是需要拆分的。另一个就是语境，在编写代码的过程中，要考虑语境是否恰当，是否容易理解。遵守简洁的代码就是好代码。

**切换角度思考**

在编写代码的时候，除了完成本身的业务逻辑之外，还要更多的站在代码测试者、代码使用者的角度思考

- 站在测试者的角度

站在测试者的角度，去攻击自己的业务逻辑、代码架构，看看是否存在突破点。

简单一点的像Utils类，一般都带有私有的构造函数，用来防止使用者进行初始化，违反默认的约束。

```java
public class AUtils{
  private AUtils(){
  }
}
```

复杂一点，定义一个类似Spark RDD的核心架构抽象，看看是否存在被攻击的漏洞。

- 站在使用者的角度

站在使用者的角度，主要思考的点就是易用性，降低开发的成本。比如你在开发一个记录日志的工具类，在推广使用之前，你最好先试用一周，看看这个工具类是否如预期那般好用。

**规章约束**

作为架构师而言，通常要做的事情&最重要的事情，就是不断的优化代码的结构。不要通过规章制度来约束开发者，试图期望得到符合规范的代码。而是要借助代码的力量去约束不符合规范的代码，通过定义清晰的接口规范将违规的代码限制在一个狭小的角落中，无法蔓延到整个系统，最后在通过代码review的方式，优化掉这部分代码。
